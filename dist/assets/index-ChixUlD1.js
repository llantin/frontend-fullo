import{aB as j,r as o,j as e,n as f,C as b,_ as N,X as v,as as y}from"./index-D8RmveFg.js";import{A as C}from"./AppLogo-OtraQJIx.js";import{l as w}from"./authService-QSJREc-7.js";import{C as F}from"./Card-C3khdGa0.js";import{F as S}from"./Form-BCZM8NW3.js";import{F as m}from"./FormLabel-B53mBRFw.js";import{F as c}from"./FormControl-BP6VLzH_.js";import"./ElementChildren-DUlSq7n6.js";const D=()=>{const u=j(),[r,x]=o.useState({username:"",password:""}),[a,i]=o.useState(!1),[l,t]=o.useState(""),d=n=>{const{name:s,value:h}=n.target;x(g=>({...g,[s]:h}))},p=async n=>{n.preventDefault(),i(!0),t("");try{const s=await w(r);s.status?(localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("token",s.token),u("/dashboard")):t(s.message||"Credenciales incorrectas")}catch(s){t(s.response?.data?.message||"Error al iniciar sesión")}finally{i(!1)}};return e.jsx("div",{className:"auth-box overflow-hidden align-items-center d-flex",style:{minHeight:"100vh"},children:e.jsx(f,{children:e.jsxs(b,{xxl:4,md:6,sm:8,className:"mx-auto",children:[e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"auth-brand text-center mb-4",children:[e.jsx(C,{}),e.jsx("p",{className:"text-muted w-lg-75 mt-3 mx-auto",children:"Ingresa tus credenciales para acceder a tu cuenta."})]}),e.jsxs(S,{onSubmit:p,children:[e.jsxs("div",{className:"mb-3 form-group",children:[e.jsxs(m,{children:["Nombre de usuario ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(c,{type:"text",name:"username",value:r.username,onChange:d,placeholder:"Nombre de usuario",required:!0,disabled:a})]}),e.jsxs("div",{className:"mb-3 form-group",children:[e.jsxs(m,{children:["Contraseña ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(c,{type:"password",name:"password",value:r.password,onChange:d,placeholder:"••••••••",required:!0,disabled:a})]}),l&&e.jsx("p",{className:"text-danger",children:l}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsx(N,{to:"/reset-password",className:"text-decoration-underline link-offset-3 text-muted",children:"Olvidaste tu contraseña?"})}),e.jsx("div",{className:"d-grid",children:e.jsx(v,{type:"submit",className:"btn-primary fw-semibold py-2",disabled:a,children:a?"Ingresando...":"Iniciar sesión"})})]})]}),e.jsxs("p",{className:"text-center text-muted mt-4 mb-0",children:["© ",y," Fullo"]})]})})})};export{D as default};
